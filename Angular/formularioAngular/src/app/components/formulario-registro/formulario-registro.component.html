<div class="container-fluid w-100 position-absolute top-50 start-50 translate-middle" [hidden]="submitted">
    
    <div class="text-center mb-5">
        <h1 class="fw-bold">REGISTRO DE USUARIO</h1>
    </div>

    <form action="" method="post" (ngSubmit)="validacionForm(user.password, rePassword, user.nif)" #userForm="ngForm">

        <div class="d-flex justify-content-center w-100">
            <div class="mb-3" style="width: 20%;">
                <label for="nombre" class="form-label mb-1 fw-bold">Nombre<span class="text-danger"> *</span></label><br>
                <input type="text" class="form-control" name="nombre" id="nombre" placeholder="Introduzca su nombre" required [(ngModel)]="user.nombre">
            </div>
            <div class="mb-3 mx-3" style="width: 20%;">
                <label for="apellidos" class="form-label mb-1 fw-bold">Apellidos<span class="text-danger"> *</span></label><br>
                <input type="text" class="form-control" name="apellidos" id="apellidos" placeholder="Introduzca sus apellidos" required [(ngModel)]="user.apellidos">
            </div>
            <div class="mb-3" style="width: 20%;">
                <label for="nif" class="form-label mb-1 fw-bold">DNI / NIF (Sin letra)<span class="text-danger"> *</span></label><br>
                <div class="d-flex w-100">
                    <input type="text" class="form-control" name="nif" id="nif" placeholder="Introduzca su DNI / NIF" required [(ngModel)]="user.nif">
                    @if(!expresionReg.test(user.nif)) {
                        <input type="text" class="ms-2 text-uppercase" name="nifLetra" id="nifLetra" readonly style="width: 12%;">
                    }@else {
                        <input type="text" class="ms-2 text-uppercase" name="nifLetra" id="nifLetra" readonly [value]="calcularLetraNif(user.nif)" style="width: 12%;">
                    }
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-center w-100">
            <div class="mb-3" style="width: 20%;">
                <label for="email" class="form-label mb-1 fw-bold">Email<span class="text-danger"> *</span></label>
                <input type="email" class="form-control" name="email" id="email" placeholder="Introduzca su Email" required [(ngModel)]="user.email">
            </div>
            <div class="mb-3 mx-3" style="width: 20%;">
                <label for="telefono" class="form-label mb-1 fw-bold">Teléfono<span class="text-danger"> *</span></label>
                <input type="text" class="form-control" name="telefono" id="telefono" placeholder="Introduzca su Nº de teléfono" required [(ngModel)]="user.telefono">
            </div>
            <div class="mb-3" style="width: 20%;">
                <label for="sexo" class="form-label mb-1 fw-bold">Sexo<span class="text-danger"> *</span></label>
                <select class="form-select" aria-label="sexo" id="sexo" name="sexo" required [(ngModel)]="user.sexo">
                   <!--- @for (sexo of sexoList; track sexo) {
                        <option [value]="sexo">{{sexo}}</option> 
                }-->
                        <option *ngFor="let sexo of sexoList" [value]="sexo">{{sexo}}</option>
                </select>
            </div>
        </div>

        <div class="d-flex justify-content-center w-100">
            <div class="" style="width: 41%;">
                <label for="motivo" class="form-label mb-1 fw-bold">¿Cómo conoció la página?<span class="text-danger"> *</span></label>
                <div class="form-floating">
                    <textarea class="form-control p-2" placeholder="Escriba aquí" name="motivo" id="motivo" style="height: 120px" required [(ngModel)]="user.motivo"></textarea>
                </div>
            </div>
            <div class="ms-3" style="width: 20%;">
                <div class="mb-3">
                    <label for="password" class="form-label mb-1 fw-bold">Contraseña<span class="text-danger"> *</span></label>
                    <input type="password" class="form-control" name="password" id="password" placeholder="Introduzca una contraseña" required [(ngModel)]="user.password">
                </div>
                <div class="mb-3">
                    <label for="repassword" class="form-label mb-1 fw-bold">Confirmar contraseña<span class="text-danger"> *</span></label>
                    <input type="password" class="form-control" name="rePassword" id="rePassword" placeholder="Confirme su contraseña" required [(ngModel)]="rePassword">
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-center w-100 mt-3">
            <button class="btn btn-primary fw-bold" type="submit" style="font-size: 20px;" [disabled]="!userForm.form.valid">¡REGISTRARME!</button>
        </div>

    </form>

</div>

<div [hidden]="!submitted" class="container-fluid w-100 position-absolute top-50 start-50 translate-middle text-center mb-5">
    <h1 class="fw-bold">FORMULARIO ENVIADO CORRECTAMENTE</h1>
</div>
